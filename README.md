# Web-front-end-performance-optimization
剖析web前端性能优化原理，分析当前大公司在性能优化上所做的实践。

### 浏览器的一个请求从发送到返回都经历了什么？
![](./images/浏览器请求流程图.PNG)

- 使用 CDN 资源时最好不好和主站域名一样，防止访问 cdn 时还携带主站cookie，避免网络无谓的损耗。
- 如何减少 http 请求的大小

### 请求过程中一些潜在的性能优化点
- dns 是否可以通过缓存减少 dns 查询时间？
- 网络请求的过程中走最近的网络环境？
- 相同静态资源是否可以缓存？
- 能否减少请求 http 请求大小？
- 减少 http 请求
- 服务端渲染

### 深入理解 http 请求过程是前端性能优化的核心

## 资源的合并与压缩
- 减少 http 请求数量
- 减少请求资源大小

### google 首页案例学习
- html 压缩
- css 压缩
- js 的压缩和混乱
- 文件合并
- 开启gzip

#### html 压缩
- HTML 代码压缩就是压缩这些在文本文件中有意义，但是在 HTML 中 **不显示**的字符，包括**空格**，**制表符**，**换行符**等，还有一些其它意义的字符，如 **HTML 注释**也可以被压缩。  
如何进行压缩：
1. 使用在线网站进行压缩
2. nodejs 提供了 html-minifier 工具
3. 后端模板引擎渲染压缩

#### CSS 压缩
- 无效代码删除
- css 语义合并  
如何进行 css 压缩：
1. 使用在线网站压缩
2. 使用 html-minifier 对html 中的 css 压缩
3. 使用 clean-css 对 css 进行压缩

#### JS 压缩与混乱
- 无效字符的删除
- 剔除注释
- 代码语义的缩减与优化
- 代码保护  
如何进行 js 压缩和混乱：
1. 使用在线网站进行压缩
2. 使用 html-minifier 对 html 中的 js 进行压缩
3. 使用 uglifyjs 对 js 进行压缩

#### 文件合并
文件合并存在的问题：
- 首屏渲染问题
- 缓存失效问题  
建议：
- 公共库合并
- 不同页面的合并
- 见机行事，随机应变  
如何进行文件合并：
1. 使用在线网站进行文件合并
2. 使用 nodejs 实现文件合并

#### 在线压缩工具
- tool.oschina.net/jacompress